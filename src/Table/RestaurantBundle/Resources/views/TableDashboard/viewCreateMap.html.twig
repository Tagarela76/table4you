{% extends 'TableMainBundle::layout_table_editor.html.twig' %}
{% block javascripts %}
    {{ parent() }}
{% endblock %}    
{% block stylesheets %}
    {{ parent() }}
{% endblock %}    
{% block content %}
    <div class="container-fluid">
        <div class="row-fluid">
            {% include 'TableRestaurantBundle:TableDashboard:tableMapTabs.html.twig' %} 
        </div>
    </div>
    <div class="container-fluid">
        <form  id="table-map-form" action="{{ path('table_updateTableMap') }}" enctype="multipart/form-data" method="post"> 
            <div class="row-fluid">
                <div class="span12">
                    <div class="list_text">{% trans %}main.tableMap.createMap.restaurantList{% endtrans %}</div>
                    <select name="restaurantId" id="restaurantId" onchange="page.tableMap.refreshRestaurantList();">
                        {% for restaurant in restaurantList %}  
                            <option {% if restaurantId == restaurant.id %}selected{%endif%} value="{{restaurant.id}}">{{restaurant.name}}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            <div class="row-fluid">
                <div class="span12">
                    <div class="container-fluid" id="mapFieldsContainer">
                        <div class="row-fluid">
                            <span class="span12">
                                <div class="list_text">{% trans %}main.tableMap.createMap.form.label.loadMap{% endtrans %}</div>
                                <div id="customization_name"></div>
                                <div class="customization">
                                    <div>Выбрать файл</div>
                                    <input type="file" name="file[]" id="customization_file" size="1">
                                </div>
                            </span>
                        </div>
                        <div class="row-fluid specify_floor_room">
                            <span class="span4">
                                <div class="list_text">{% trans %}main.tableMap.createMap.form.label.floor{% endtrans %}</div>
                                <input type="text" name="mapFloor[]" size="2" />
                            </span>
                            <span class="span5">
                                <div class="list_text">{% trans %}main.tableMap.createMap.form.label.hall{% endtrans %}</div>
                                <input type="text" name="mapHall[]" size="2" />
                            </span>
                        </div>
                    </div>
                    <hr class="hr_line">
                    <div class="container-fluid">
                        <div class="row-fluid">
                            <div class="span5"></div>
                            <div class="span5">
                                <a href="#" class="add_file" onclick="page.tableMap.addNewRow(); return false;">Добавить еще</a>
                                <input type="button" onClick="page.tableMap.validateAddForm();" value="{% trans %}main.tableMap.createMap.form.label.save{% endtrans %}" class="but_load_file" />
                                <label class="validationError">{% trans %}main.tableMap.createMap.form.errors{% endtrans %}</label>
                                <input type="hidden" id="mapFileLabel" value="{% trans %}main.tableMap.createMap.form.label.loadMap{% endtrans %}" />
                                <input type="hidden" id="mapFloorLabel" value="{% trans %}main.tableMap.createMap.form.label.floor{% endtrans %}" />
                                <input type="hidden" id="mapHallLabel" value="{% trans %}main.tableMap.createMap.form.label.hall{% endtrans %}" />
                                <input type="hidden" id="deleteRowIcon" value="{{ asset('bundles/tablerestaurant/images/deleteFile.png') }}" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form> 
    </div> 
    <div class="container-fluid" id="tableMapContainer">
        {% include 'TableRestaurantBundle:TableDashboard:viewTableMap.html.twig' %} 
    </div>
{% endblock %}  